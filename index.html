<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <title>ä¸ƒå¤•å‘Šç™½ | çˆ±çš„ç«ç‘°å¿ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        rose: {
                            red: '#E63946',
                            redDark: '#C1121F',
                            redLight: '#FF6B6B',
                            pink: '#FFB7C5',
                            pinkDark: '#FF8FA3',
                            cream: '#FFF1E6',
                            creamDark: '#FFE4D6',
                            gold: '#FFD700'
                        }
                    },
                    fontFamily: {
                        romantic: ['Dancing Script', 'cursive', 'sans-serif'],
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 10px rgba(230, 57, 70, 0.5);
            }
            .star {
                position: absolute;
                background-color: white;
                border-radius: 50%;
                animation: twinkle 2s infinite alternate;
            }
            @keyframes twinkle {
                0% { opacity: 0.3; transform: scale(0.8); }
                100% { opacity: 1; transform: scale(1.2); }
            }
            .shine {
                position: relative;
                overflow: hidden;
            }
            .shine::after {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: linear-gradient(
                    to right,
                    rgba(255, 255, 255, 0) 0%,
                    rgba(255, 255, 255, 0.3) 50%,
                    rgba(255, 255, 255, 0) 100%
                );
                transform: rotate(30deg);
                animation: shine 6s infinite;
            }
            @keyframes shine {
                0% { transform: rotate(30deg) translate(-100%, -100%); }
                100% { transform: rotate(30deg) translate(100%, 100%); }
            }
            .floating {
                animation: floating 6s ease-in-out infinite;
            }
            @keyframes floating {
                0% { transform: translateY(0) rotate(0deg); }
                50% { transform: translateY(-15px) rotate(2deg); }
                100% { transform: translateY(0) rotate(0deg); }
            }
            .petal {
                position: absolute;
                transition: all 0.3s ease;
                transform-origin: center center;
                touch-action: manipulation;
            }
            .petal:hover {
                transform: scale(1.1) rotate(5deg);
                z-index: 20;
            }
            .heart-beat {
                animation: heartBeat 1.5s infinite;
            }
            @keyframes heartBeat {
                0% { transform: scale(1); }
                14% { transform: scale(1.1); }
                28% { transform: scale(1); }
                42% { transform: scale(1.1); }
                70% { transform: scale(1); }
            }
            /* è§¦æ‘¸åé¦ˆæ•ˆæœ */
            .touch-feedback {
                -webkit-tap-highlight-color: transparent;
            }
            .btn-active {
                transform: scale(0.95);
                opacity: 0.9;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&amp;display=swap" rel="stylesheet">
</head>
<body class="min-h-screen flex flex-col overflow-x-hidden bg-gradient-to-b from-purple-900 via-indigo-900 to-blue-950 touch-feedback">
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <div id="stars" class="fixed top-0 left-0 w-full h-full pointer-events-none z-0"></div>

    <!-- é¡µé¢å¤´éƒ¨ -->
    <header class="w-full py-4 px-4 md:px-8 bg-white/10 backdrop-blur-sm shadow-sm relative z-10 border-b border-white/10">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-[clamp(1.5rem,6vw,3rem)] font-romantic font-bold text-rose-pink text-shadow text-center md:text-left">
                <i class="fa fa-heart text-rose-red mr-2 animate-pulse"></i>ä¸ƒå¤•Â·çˆ±çš„å‘Šç™½
            </h1>
            <p class="text-rose-pink/80 italic mt-1 md:mt-0 font-romantic text-lg">ä»¥ç«ç‘°ä¹‹å¿ƒï¼Œè¯‰è¯´çˆ±æ„</p>
        </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main class="flex-grow container mx-auto px-4 py-6 md:py-16 flex flex-col items-center justify-center relative z-10">
        <div class="max-w-4xl w-full mx-auto">
            <!-- å‘Šç™½å¡ç‰‡ -->
            <div class="bg-white/10 backdrop-blur-md rounded-2xl shadow-xl p-5 md:p-8 mb-6 shine border border-white/10">
                <div class="text-center mb-5">
                    <h2 class="text-[clamp(1.3rem,5vw,2.5rem)] font-romantic text-rose-pink">äº²çˆ±çš„è•Šè•Šï¼Œ</h2>
                    <p class="text-white/80 mt-3 max-w-2xl mx-auto leading-relaxed text-sm md:text-base">
                        ä¸ƒå¤•ä¹‹å¤œï¼Œæ˜Ÿå…‰ç’€ç’¨ï¼Œæˆ‘å°†ä¸‡åƒçˆ±æ„åŒ–ä½œè¿™æŸç«ç‘°å¿ƒï¼Œ
                        æ¯ä¸€æœµé²œèŠ±éƒ½ä»£è¡¨æˆ‘å¯¹ä½ çš„æ€å¿µï¼Œæ¯ä¸€ç‰‡èŠ±ç“£éƒ½æ‰¿è½½ç€æˆ‘å¯¹ä½ çš„æ·±æƒ…ã€‚
                        æ„¿è¿™é¢—æ°¸æ’ä¹‹å¿ƒï¼Œè§è¯æˆ‘ä»¬çš„çˆ±ã€‚
                    </p>
                    <p class="text-rose-pink font-romantic text-lg mt-4">ç‚¹å‡»ä»»æ„å¤„ï¼Œç»½æ”¾çˆ±çš„çƒŸèŠ±</p>
                </div>
            </div>
            
            <!-- é²œèŠ±çˆ±å¿ƒå®¹å™¨ -->
            <div class="relative bg-white/5 backdrop-blur-md rounded-2xl shadow-lg p-4 md:p-10 mb-6 overflow-hidden border border-white/10">
                <!-- è£…é¥°å…‰æ™• -->
                <div class="absolute top-1/2 left-1/2 w-[80%] h-[80%] bg-rose-pink/20 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
                
                <!-- çˆ±å¿ƒæ ‡é¢˜ -->
                <div class="text-center mb-5 relative z-10">
                    <h2 class="text-[clamp(1.2rem,4vw,1.8rem)] font-romantic text-rose-pink">çˆ±çš„ç«ç‘°å¿ƒ</h2>
                    <p class="text-white/60 mt-1">æ¯ä¸€æœµé²œèŠ±ï¼Œéƒ½æ˜¯çˆ±çš„è§è¯</p>
                </div>
                
                <!-- çˆ±å¿ƒå®¹å™¨ - è‡ªé€‚åº”é«˜åº¦ -->
                <div id="heart-container" class="w-full h-[300px] sm:h-[400px] md:h-[600px] relative mx-auto floating">
                    <!-- é²œèŠ±çˆ±å¿ƒå°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                    
                    <!-- SVGç”¨äºç‚¹å‡»äº’åŠ¨æ•ˆæœ -->
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600" width="100%" height="100%" class="absolute top-0 left-0 pointer-events-none">
                        <g id="particles"></g>
                    </svg>
                </div>
            </div>
            
            <!-- äº’åŠ¨æç¤ºå¡ç‰‡ -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 border border-white/10 hover:border-white/20 transform hover:-translate-y-1">
                    <div class="text-rose-pink text-3xl mb-2">
                        <i class="fa fa-heart"></i>
                    </div>
                    <h3 class="font-romantic text-xl mb-2 text-rose-pink">çˆ±çš„äº’åŠ¨</h3>
                    <p class="text-white/70 text-sm">ç‚¹å‡»ä»»æ„ä½ç½®ï¼Œä¼šç»½æ”¾ç¾ä¸½çš„çƒŸèŠ±å’Œçˆ±å¿ƒç²’å­ï¼Œæ¯ä¸€æ¬¡ç‚¹å‡»éƒ½æ˜¯çˆ±çš„è¡¨è¾¾ã€‚</p>
                </div>
                
                <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 border border-white/10 hover:border-white/20 transform hover:-translate-y-1">
                    <div class="text-rose-gold text-3xl mb-2">
                        <i class="fa fa-star"></i>
                    </div>
                    <h3 class="font-romantic text-xl mb-2 text-rose-pink">æ˜Ÿç©ºè§è¯</h3>
                    <p class="text-white/70 text-sm">ç’€ç’¨æ˜Ÿç©ºä¸‹ï¼Œè¿™é¢—ç«ç‘°å¿ƒè±¡å¾ç€æˆ‘ä»¬æ°¸æ’çš„çˆ±ï¼Œæ°¸ä¸å‡‹é›¶ï¼Œæ°¸è¿œé—ªè€€ã€‚</p>
                </div>
            </div>
        </div>
    </main>

    <!-- å‘Šç™½æŒ‰é’® - å¢å¤§è§¦æ‘¸åŒºåŸŸ -->
    <div class="text-center py-6 px-4 relative z-10">
        <button id="confess-btn" class="bg-rose-red hover:bg-rose-redDark text-white font-romantic text-xl py-4 px-12 rounded-full shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 duration-300 touch-feedback">
            <i class="fa fa-heart mr-2"></i>å‘é€çˆ±çš„å‘Šç™½
        </button>
    </div>

    <!-- å‘Šç™½å¼¹çª— -->
    <div id="confess-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 max-w-md w-full mx-4 transform transition-all scale-95 opacity-0 border border-white/20" id="modal-content">
            <h3 class="text-2xl font-romantic text-rose-pink text-center mb-3">æˆ‘çˆ±ä½ </h3>
            <p class="text-white/80 text-center mb-5 text-sm">ä»é‡è§ä½ çš„é‚£ä¸€åˆ»èµ·ï¼Œæˆ‘çš„å¿ƒå°±ä¸ºä½ è€Œè·³åŠ¨ã€‚æ„¿æˆ‘ä»¬çš„çˆ±ï¼Œå¦‚è¿™ç«ç‘°å¿ƒèˆ¬æ°¸ä¸å‡‹é›¶ã€‚</p>
            <div class="flex justify-center">
                <button id="close-modal" class="bg-rose-pink/80 hover:bg-rose-pink text-white py-3 px-8 rounded-full transition-colors touch-feedback">
                    æ”¶ä¸‹æˆ‘çš„çˆ±
                </button>
            </div>
        </div>
    </div>

    <!-- é¡µè„š -->
    <footer class="w-full py-4 px-4 bg-white/5 backdrop-blur-sm shadow-inner relative z-10 border-t border-white/10">
        <div class="container mx-auto text-center text-white/60">
            <p class="font-romantic text-lg">ä¸ƒå¤•èŠ‚ Â· å†œå†ä¸ƒæœˆåˆä¸ƒ</p>
            <p class="mt-1 text-sm">æ„¿å’±ä¿©æœ‰æƒ…äººç»ˆæˆçœ·å±â¤ï¸ğŸ˜˜</p>
        </div>
    </footer>

    <script>
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
            createStars();
            
            // ç”Ÿæˆé²œèŠ±çˆ±å¿ƒ
            createFlowerHeart();
            
            // è·å–å…ƒç´ 
            const heartContainer = document.getElementById('heart-container');
            const svg = heartContainer.querySelector('svg');
            const particlesContainer = document.getElementById('particles');
            const confessBtn = document.getElementById('confess-btn');
            const confessModal = document.getElementById('confess-modal');
            const modalContent = document.getElementById('modal-content');
            const closeModal = document.getElementById('close-modal');
            const body = document.body;
            
            // è§¦æ‘¸åé¦ˆæ•ˆæœ
            function addTouchFeedback(element) {
                element.addEventListener('touchstart', function() {
                    this.classList.add('btn-active');
                });
                element.addEventListener('touchend', function() {
                    this.classList.remove('btn-active');
                });
                element.addEventListener('touchcancel', function() {
                    this.classList.remove('btn-active');
                });
            }
            
            // ä¸ºæŒ‰é’®æ·»åŠ è§¦æ‘¸åé¦ˆ
            addTouchFeedback(confessBtn);
            addTouchFeedback(closeModal);
            
            // å…¨å±€ç‚¹å‡»/è§¦æ‘¸äº‹ä»¶ - è§¦å‘çƒŸèŠ±æ•ˆæœ
            function handleInteraction(e) {
                // è®¡ç®—ç›¸å¯¹äºè§†å£çš„ä½ç½®
                let x, y;
                if (e.type.includes('touch')) {
                    // è§¦æ‘¸äº‹ä»¶
                    x = e.touches[0].clientX;
                    y = e.touches[0].clientY;
                } else {
                    // é¼ æ ‡äº‹ä»¶
                    x = e.clientX;
                    y = e.clientY;
                }
                
                // éšæœºé€‰æ‹©ç‰¹æ•ˆç±»å‹
                const effectType = Math.random();
                
                if (effectType < 0.3) {
                    // å¸¸è§„çƒŸèŠ±
                    createFirework(x, y);
                } else if (effectType < 0.6) {
                    // ç¯å½¢çƒŸèŠ±
                    createRingFirework(x, y);
                } else {
                    // æ˜Ÿå½¢çƒŸèŠ±
                    createStarFirework(x, y);
                }
                
                // éšæœºç”Ÿæˆçˆ±å¿ƒå’ŒèŠ±ç“£
                const particleCount = 8 + Math.floor(Math.random() * 12);
                for (let i = 0; i < particleCount; i++) {
                    setTimeout(() => {
                        // éšæœºä½ç½®åç§»
                        const offsetX = (Math.random() * 100 - 50);
                        const offsetY = (Math.random() * 100 - 50);
                        
                        // 50%æ¦‚ç‡ç”Ÿæˆçˆ±å¿ƒï¼Œ50%æ¦‚ç‡ç”ŸæˆèŠ±ç“£
                        if (Math.random() < 0.5) {
                            createHeartParticle(
                                x + offsetX,
                                y + offsetY
                            );
                        } else {
                            createPetalParticle(
                                x + offsetX,
                                y + offsetY
                            );
                        }
                    }, i * 50);
                }
            }
            
            // åŒæ—¶ç›‘å¬ç‚¹å‡»å’Œè§¦æ‘¸äº‹ä»¶
            body.addEventListener('click', handleInteraction);
            body.addEventListener('touchstart', function(e) {
                // é˜²æ­¢è§¦æ‘¸æ—¶é¡µé¢æ»šåŠ¨
                e.preventDefault();
                handleInteraction(e);
            }, { passive: false });
            
            // å‘Šç™½æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            confessBtn.addEventListener('click', function(e) {
                e.stopPropagation(); // é˜²æ­¢è§¦å‘å…¨å±€ç‚¹å‡»äº‹ä»¶
                openConfessModal();
            });
            
            // å‘Šç™½æŒ‰é’®è§¦æ‘¸äº‹ä»¶
            confessBtn.addEventListener('touchstart', function(e) {
                e.stopPropagation();
                e.preventDefault();
                openConfessModal();
            }, { passive: false });
            
            // æ‰“å¼€å‘Šç™½å¼¹çª—
            function openConfessModal() {
                confessModal.classList.remove('hidden');
                
                // è§¦å‘å¼¹çª—åŠ¨ç”»
                setTimeout(() => {
                    modalContent.classList.remove('scale-95', 'opacity-0');
                    modalContent.classList.add('scale-100', 'opacity-100', 'transition-all', 'duration-500');
                }, 10);
                
                // ç”Ÿæˆå¤§é‡çˆ±å¿ƒå’ŒçƒŸèŠ±
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        const x = window.innerWidth / 2 + (Math.random() * 300 - 150);
                        const y = window.innerHeight / 2 + (Math.random() * 200 - 100);
                        
                        // éšæœºç”Ÿæˆçˆ±å¿ƒæˆ–èŠ±ç“£
                        if (Math.random() < 0.6) {
                            createHeartParticle(x, y);
                        } else {
                            createPetalParticle(x, y);
                        }
                        
                        // æ¯4ä¸ªç²’å­ç”Ÿæˆä¸€ä¸ªçƒŸèŠ±
                        if (i % 4 === 0) {
                            // éšæœºé€‰æ‹©çƒŸèŠ±ç±»å‹
                            if (Math.random() < 0.4) {
                                createFirework(x, y);
                            } else if (Math.random() < 0.7) {
                                createRingFirework(x, y);
                            } else {
                                createStarFirework(x, y);
                            }
                        }
                    }, i * 80);
                }
            }
            
            // å…³é—­å¼¹çª—
            closeModal.addEventListener('click', function(e) {
                e.stopPropagation(); // é˜²æ­¢è§¦å‘å…¨å±€ç‚¹å‡»äº‹ä»¶
                closeConfessModal();
            });
            
            closeModal.addEventListener('touchstart', function(e) {
                e.stopPropagation();
                e.preventDefault();
                closeConfessModal();
            }, { passive: false });
            
            // å…³é—­å‘Šç™½å¼¹çª—
            function closeConfessModal() {
                modalContent.classList.remove('scale-100', 'opacity-100');
                modalContent.classList.add('scale-95', 'opacity-0', 'transition-all', 'duration-300');
                
                setTimeout(() => {
                    confessModal.classList.add('hidden');
                }, 300);
            }
            
            // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
            function createStars() {
                const starsContainer = document.getElementById('stars');
                const starCount = Math.floor(window.innerWidth * window.innerHeight / 1500); // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´æ˜Ÿæ˜Ÿæ•°é‡
                
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    
                    // éšæœºå¤§å°
                    const size = 1 + Math.random() * 3;
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    
                    // éšæœºä½ç½®
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    
                    // éšæœºé—ªçƒåŠ¨ç”»å»¶è¿Ÿå’ŒæŒç»­æ—¶é—´
                    star.style.animationDelay = `${Math.random() * 5}s`;
                    star.style.animationDuration = `${2 + Math.random() * 3}s`;
                    
                    // éšæœºäº®åº¦
                    const brightness = 0.3 + Math.random() * 0.7;
                    star.style.opacity = brightness;
                    
                    starsContainer.appendChild(star);
                }
            }
            
            // ç”Ÿæˆé²œèŠ±çˆ±å¿ƒ
            function createFlowerHeart() {
                const container = document.getElementById('heart-container');
                const containerRect = container.getBoundingClientRect();
                const centerX = containerRect.width / 2;
                const centerY = containerRect.height / 2;
                // æ ¹æ®å®¹å™¨å¤§å°è°ƒæ•´çˆ±å¿ƒå¤§å°
                const heartSize = Math.min(containerRect.width, containerRect.height) * 0.7;
                
                // é²œèŠ±å›¾ç‰‡URL
                const flowerImageUrl = 'https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/af15738350904cbd8953a6fedcac77b3.png~tplv-a9rns2rl98-24:720:720.png?rk3s=1fb89129&x-expires=1757086576&x-signature=YwGiouniPAsaV8LvPrZEgSpdl2A%3D';
                
                // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´ç‚¹æ•°
                const baseCount = 150;
                const screenFactor = Math.min(window.innerWidth, window.innerHeight) / 600;
                const pointsCount = Math.max(80, Math.floor(baseCount * screenFactor));
                
                // ç”Ÿæˆçˆ±å¿ƒå½¢çŠ¶çš„ç‚¹é›†
                const points = generateHeartPoints(centerX, centerY, heartSize, pointsCount);
                
                // ä¸ºæ¯ä¸ªç‚¹åˆ›å»ºä¸€ä¸ªé²œèŠ±å›¾ç‰‡
                points.forEach((point, index) => {
                    const flower = document.createElement('img');
                    flower.src = flowerImageUrl;
                    flower.alt = 'ç²‰è‰²ç«ç‘°èŠ±';
                    
                    // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´èŠ±æœµå°ºå¯¸
                    const baseSize = 10;
                    const sizeFactor = Math.min(window.innerWidth, window.innerHeight) / 600;
                    const size = baseSize * sizeFactor + (Math.random() * 10 * sizeFactor);
                    
                    flower.classList.add('petal');
                    flower.style.width = `${size}px`;
                    flower.style.height = 'auto';
                    flower.style.left = `${point.x}px`;
                    flower.style.top = `${point.y}px`;
                    flower.style.transform = `rotate(${Math.random() * 360}deg)`;
                    flower.style.opacity = 0.9 + Math.random() * 0.1;
                    
                    // æ·»åŠ å»¶è¿ŸåŠ¨ç”»ï¼Œä½¿èŠ±æœµä¾æ¬¡å‡ºç°
                    flower.style.transition = 'all 0.5s ease';
                    flower.style.opacity = '0';
                    flower.style.transform = `translate(-50%, -50%) rotate(${Math.random() * 360}deg) scale(0.5)`;
                    
                    container.appendChild(flower);
                    
                    // è§¦å‘åŠ¨ç”»
                    setTimeout(() => {
                        flower.style.opacity = '1';
                        flower.style.transform = `translate(-50%, -50%) rotate(${Math.random() * 360}deg) scale(1)`;
                    }, 100 + index * 10);
                    
                    // ä¸ºæ¯ä¸ªèŠ±æœµæ·»åŠ è½»å¾®çš„æµ®åŠ¨åŠ¨ç”»
                    setTimeout(() => {
                        flower.style.animation = `floating ${5 + Math.random() * 5}s ease-in-out infinite`;
                        flower.style.animationDelay = `${Math.random() * 5}s`;
                    }, 1000 + index * 10);
                });
            }
            
            // ç”Ÿæˆçˆ±å¿ƒå½¢çŠ¶çš„ç‚¹é›†
            function generateHeartPoints(centerX, centerY, size, count) {
                const points = [];
                
                for (let i = 0; i < count; i++) {
                    // å‚æ•°æ–¹ç¨‹ç”Ÿæˆçˆ±å¿ƒå½¢çŠ¶
                    const t = (i / count) * Math.PI * 2;
                    const x = 16 * Math.pow(Math.sin(t), 3);
                    const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
                    
                    // ç¼©æ”¾å¹¶å®šä½åˆ°ä¸­å¿ƒ
                    const scaledX = centerX + x * (size / 20);
                    const scaledY = centerY - y * (size / 20); // è´Ÿå·æ˜¯å› ä¸ºYè½´å‘ä¸‹ä¸ºæ­£
                    
                    // æ·»åŠ ä¸€äº›éšæœºæ‰°åŠ¨ï¼Œä½¿åˆ†å¸ƒæ›´è‡ªç„¶
                    const jitterX = (Math.random() - 0.5) * (size / 15);
                    const jitterY = (Math.random() - 0.5) * (size / 15);
                    
                    points.push({
                        x: scaledX + jitterX,
                        y: scaledY + jitterY
                    });
                }
                
                return points;
            }
            
            // åˆ›å»ºå¸¸è§„çƒŸèŠ±æ•ˆæœ
            function createFirework(x, y) {
                constçƒŸèŠ±é¢œè‰² = ['#FF6B6B', '#FFB7C5', '#FFD700', '#9370DB', '#E63946', '#FFA500', '#FF69B4'];
                const color =çƒŸèŠ±é¢œè‰²[Math.floor(Math.random() * çƒŸèŠ±é¢œè‰².length)];
                // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´ç²’å­æ•°é‡
                const baseParticleCount = 60;
                const screenFactor = Math.min(window.innerWidth, window.innerHeight) / 600;
                const particleCount = Math.floor(baseParticleCount * screenFactor) + Math.floor(Math.random() * 40 * screenFactor);
                const explosionSize = 120 + Math.random() * 60;
                
                // åˆ›å»ºå‘å°„åˆ°ç‚¹å‡»ä½ç½®çš„ç²’å­
                const launchParticle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                launchParticle.setAttribute('cx', x);
                launchParticle.setAttribute('cy', window.innerHeight);
                launchParticle.setAttribute('r', 3);
                launchParticle.setAttribute('fill', color);
                particlesContainer.appendChild(launchParticle);
                
                // å‘å°„åŠ¨ç”»
                const duration = 800 + Math.random() * 500;
                const startTime = Date.now();
                
                function animateLaunch() {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // ç¼“åŠ¨å‡½æ•° - å…ˆå¿«åæ…¢
                    const easeProgress = 1 - Math.pow(1 - progress, 3);
                    
                    // æ›´æ–°ä½ç½®
                    const currentY = window.innerHeight - (window.innerHeight - y) * easeProgress;
                    launchParticle.setAttribute('cy', currentY);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateLaunch);
                    } else {
                        // åˆ°è¾¾ç›®æ ‡ä½ç½®åçˆ†ç‚¸
                        particlesContainer.removeChild(launchParticle);
                        
                        // åˆ›å»ºçˆ†ç‚¸ç²’å­
                        for (let i = 0; i < particleCount; i++) {
                            const angle = Math.random() * Math.PI * 2;
                            const speed = Math.random() * explosionSize;
                            
                            const particle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                            particle.setAttribute('cx', x);
                            particle.setAttribute('cy', y);
                            particle.setAttribute('r', 2 + Math.random() * 3);
                            particle.setAttribute('fill', color);
                            particle.setAttribute('opacity', 1);
                            particlesContainer.appendChild(particle);
                            
                            // çˆ†ç‚¸åŠ¨ç”»
                            const explodeDuration = 1000 + Math.random() * 500;
                            const explodeStartTime = Date.now();
                            
                            function animateExplode() {
                                const explodeElapsed = Date.now() - explodeStartTime;
                                const explodeProgress = Math.min(explodeElapsed / explodeDuration, 1);
                                
                                // ç²’å­ç§»åŠ¨
                                const currentX = x + Math.cos(angle) * speed * explodeProgress;
                                const currentY = y + Math.sin(angle) * speed * explodeProgress;
                                
                                // æ·¡å‡ºæ•ˆæœ
                                const opacity = 1 - explodeProgress;
                                
                                particle.setAttribute('cx', currentX);
                                particle.setAttribute('cy', currentY);
                                particle.setAttribute('opacity', opacity);
                                
                                if (explodeProgress < 1) {
                                    requestAnimationFrame(animateExplode);
                                } else {
                                    if (particle.parentNode === particlesContainer) {
                                        particlesContainer.removeChild(particle);
                                    }
                                }
                            }
                            
                            requestAnimationFrame(animateExplode);
                        }
                    }
                }
                
                requestAnimationFrame(animateLaunch);
            }
            
            // åˆ›å»ºç¯å½¢çƒŸèŠ±æ•ˆæœ
            function createRingFirework(x, y) {
                const colors = ['#FF6B6B', '#FFB7C5', '#FFD700', '#9370DB', '#E63946', '#FFA500', '#FF69B4'];
                // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´ç²’å­æ•°é‡
                const screenFactor = Math.min(window.innerWidth, window.innerHeight) / 600;
                const particleCount = Math.floor(80 * screenFactor) + Math.floor(Math.random() * 40 * screenFactor);
                const ringCount = 2 + Math.floor(Math.random() * 2); // 1-3ä¸ªç¯
                const baseRadius = 80 + Math.random() * 40;
                
                // åˆ›å»ºå‘å°„ç²’å­
                const launchParticle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                launchParticle.setAttribute('cx', x);
                launchParticle.setAttribute('cy', window.innerHeight);
                launchParticle.setAttribute('r', 3);
                launchParticle.setAttribute('fill', colors[0]);
                particlesContainer.appendChild(launchParticle);
                
                // å‘å°„åŠ¨ç”»
                const duration = 700 + Math.random() * 400;
                const startTime = Date.now();
                
                function animateLaunch() {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const currentY = window.innerHeight - (window.innerHeight - y) * (1 - Math.pow(1 - progress, 3));
                    launchParticle.setAttribute('cy', currentY);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateLaunch);
                    } else {
                        particlesContainer.removeChild(launchParticle);
                        
                        // åˆ›å»ºç¯å½¢çˆ†ç‚¸
                        for (let r = 0; r < ringCount; r++) {
                            const radius = baseRadius * (r + 1);
                            const color = colors[(r % colors.length)];
                            
                            setTimeout(() => {
                                for (let i = 0; i < particleCount; i++) {
                                    const angle = (i / particleCount) * Math.PI * 2;
                                    const particleSize = 2 + Math.random() * 2;
                                    
                                    const particle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                                    particle.setAttribute('cx', x);
                                    particle.setAttribute('cy', y);
                                    particle.setAttribute('r', particleSize);
                                    particle.setAttribute('fill', color);
                                    particle.setAttribute('opacity', 1);
                                    particlesContainer.appendChild(particle);
                                    
                                    // ç¯çˆ†ç‚¸åŠ¨ç”»
                                    const explodeDuration = 900 + Math.random() * 300;
                                    const explodeStartTime = Date.now();
                                    
                                    function animateRingExplode() {
                                        const explodeElapsed = Date.now() - explodeStartTime;
                                        const explodeProgress = Math.min(explodeElapsed / explodeDuration, 1);
                                        
                                        // ç²’å­æ²¿åœ†å‘¨ç§»åŠ¨
                                        const currentRadius = radius * explodeProgress;
                                        const currentX = x + Math.cos(angle) * currentRadius;
                                        const currentY = y + Math.sin(angle) * currentRadius;
                                        
                                        // æ·¡å‡ºæ•ˆæœ
                                        const opacity = 1 - explodeProgress;
                                        
                                        particle.setAttribute('cx', currentX);
                                        particle.setAttribute('cy', currentY);
                                        particle.setAttribute('opacity', opacity);
                                        
                                        if (explodeProgress < 1) {
                                            requestAnimationFrame(animateRingExplode);
                                        } else {
                                            if (particle.parentNode === particlesContainer) {
                                                particlesContainer.removeChild(particle);
                                            }
                                        }
                                    }
                                    
                                    requestAnimationFrame(animateRingExplode);
                                }
                            }, r * 200); // ç¯ä¹‹é—´æœ‰å»¶è¿Ÿ
                        }
                    }
                }
                
                requestAnimationFrame(animateLaunch);
            }
            
            // åˆ›å»ºæ˜Ÿå½¢çƒŸèŠ±æ•ˆæœ
            function createStarFirework(x, y) {
                const colors = ['#FF6B6B', '#FFB7C5', '#FFD700', '#9370DB', '#E63946', '#FFA500', '#FF69B4'];
                const points = 6 + Math.floor(Math.random() * 4); // 6-9ä¸ªç‚¹
                const color = colors[Math.floor(Math.random() * colors.length)];
                // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´ç²’å­æ•°é‡
                const screenFactor = Math.min(window.innerWidth, window.innerHeight) / 600;
                const particleCountPerPoint = Math.floor(15 * screenFactor) + Math.floor(Math.random() * 10 * screenFactor);
                const explosionSize = 100 + Math.random() * 50;
                
                // åˆ›å»ºå‘å°„ç²’å­
                const launchParticle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                launchParticle.setAttribute('cx', x);
                launchParticle.setAttribute('cy', window.innerHeight);
                launchParticle.setAttribute('r', 3);
                launchParticle.setAttribute('fill', color);
                particlesContainer.appendChild(launchParticle);
                
                // å‘å°„åŠ¨ç”»
                const duration = 600 + Math.random() * 400;
                const startTime = Date.now();
                
                function animateLaunch() {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const currentY = window.innerHeight - (window.innerHeight - y) * (1 - Math.pow(1 - progress, 3));
                    launchParticle.setAttribute('cy', currentY);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateLaunch);
                    } else {
                        particlesContainer.removeChild(launchParticle);
                        
                        // åˆ›å»ºæ˜Ÿå½¢çˆ†ç‚¸
                        for (let p = 0; p < points; p++) {
                            const angle = (p / points) * Math.PI * 2;
                            
                            for (let i = 0; i < particleCountPerPoint; i++) {
                                // æ¯ä¸ªç‚¹ä¸Šçš„ç²’å­æœ‰å¾®å°è§’åº¦å·®å¼‚ï¼Œå½¢æˆçº¿æ¡æ•ˆæœ
                                const angleVariation = angle + (Math.random() * 0.2 - 0.1);
                                const speed = (0.5 + Math.random() * 0.5) * explosionSize;
                                
                                const particle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                                particle.setAttribute('cx', x);
                                particle.setAttribute('cy', y);
                                particle.setAttribute('r', 2 + Math.random() * 2);
                                particle.setAttribute('fill', color);
                                particle.setAttribute('opacity', 1);
                                particlesContainer.appendChild(particle);
                                
                                // æ˜Ÿå½¢çˆ†ç‚¸åŠ¨ç”»
                                const explodeDuration = 800 + Math.random() * 400;
                                const explodeStartTime = Date.now();
                                
                                function animateStarExplode() {
                                    const explodeElapsed = Date.now() - explodeStartTime;
                                    const explodeProgress = Math.min(explodeElapsed / explodeDuration, 1);
                                    
                                    // ç²’å­ç§»åŠ¨
                                    const currentX = x + Math.cos(angleVariation) * speed * explodeProgress;
                                    const currentY = y + Math.sin(angleVariation) * speed * explodeProgress;
                                    
                                    // æ·¡å‡ºæ•ˆæœ
                                    const opacity = 1 - explodeProgress;
                                    
                                    particle.setAttribute('cx', currentX);
                                    particle.setAttribute('cy', currentY);
                                    particle.setAttribute('opacity', opacity);
                                    
                                    if (explodeProgress < 1) {
                                        requestAnimationFrame(animateStarExplode);
                                    } else {
                                        if (particle.parentNode === particlesContainer) {
                                            particlesContainer.removeChild(particle);
                                        }
                                    }
                                }
                                
                                requestAnimationFrame(animateStarExplode);
                            }
                        }
                    }
                }
                
                requestAnimationFrame(animateLaunch);
            }
            
            // åˆ›å»ºçˆ±å¿ƒç²’å­
            function createHeartParticle(x, y) {
                const heart = document.createElementNS("http://www.w3.org/2000/svg", "path");
                // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´çˆ±å¿ƒå¤§å°
                const screenFactor = Math.min(window.innerWidth, window.innerHeight) / 600;
                const size = (8 + Math.random() * 12) * screenFactor;
                const colors = ['#E63946', '#FF4D6D', '#FF9AAA', '#9370DB', '#FF69B4', '#FFB7C5'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                // çˆ±å¿ƒè·¯å¾„
                heart.setAttribute('d', `M${x},${y} C${x+size},${y-size} ${x+2*size},${y} ${x},${y+1.5*size} C${x-2*size},${y} ${x-size},${y-size} ${x},${y} Z`);
                heart.setAttribute('fill', color);
                heart.setAttribute('opacity', 0.8);
                
                // æ·»åŠ åˆ°å®¹å™¨
                particlesContainer.appendChild(heart);
                
                // éšæœºæ–¹å‘å’Œæ—‹è½¬
                const angle = Math.random() * Math.PI * 2;
                const rotationSpeed = (Math.random() - 0.5) * 0.01; // æ—‹è½¬é€Ÿåº¦
                const speed = 2 + Math.random() * 3;
                const duration = 2000 + Math.random() * 1000;
                const startTime = Date.now();
                let rotation = 0;
                
                function animateHeart() {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // æ—‹è½¬è§’åº¦
                    rotation += rotationSpeed;
                    
                    // ç§»åŠ¨çˆ±å¿ƒ
                    const currentX = x + Math.cos(angle) * speed * progress * 20;
                    const currentY = y + Math.sin(angle) * speed * progress * 20;
                    
                    // æ·¡å‡ºå¹¶æ”¾å¤§
                    const opacity = 1 - progress;
                    const scale = 1 + progress * 0.5;
                    
                    heart.setAttribute('transform', `translate(${currentX - x}, ${currentY - y}) rotate(${rotation * 180 / Math.PI}) scale(${scale})`);
                    heart.setAttribute('opacity', opacity);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateHeart);
                    } else {
                        if (heart.parentNode === particlesContainer) {
                            particlesContainer.removeChild(heart);
                        }
                    }
                }
                
                requestAnimationFrame(animateHeart);
            }
            
            // åˆ›å»ºèŠ±ç“£ç²’å­
            function createPetalParticle(x, y) {
                const petal = document.createElementNS("http://www.w3.org/2000/svg", "path");
                // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´èŠ±ç“£å¤§å°
                const screenFactor = Math.min(window.innerWidth, window.innerHeight) / 600;
                const size = (6 + Math.random() * 10) * screenFactor;
                const colors = ['#FFB7C5', '#FF8FA3', '#FF6B6B', '#FFD7E5', '#FFA5B0'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                // èŠ±ç“£è·¯å¾„
                petal.setAttribute('d', `M${x},${y} Q${x+size/2},${y-size} ${x+size},${y} Q${x+size/2},${y+size/2} ${x},${y} Z`);
                petal.setAttribute('fill', color);
                petal.setAttribute('opacity', 0.8);
                
                // æ·»åŠ åˆ°å®¹å™¨
                particlesContainer.appendChild(petal);
                
                // éšæœºé£˜è½æ•ˆæœ
                const angle = Math.PI/4 + Math.random() * Math.PI/2; // å‘å³ä¸‹æ–¹é£˜è½
                const rotationSpeed = (Math.random() - 0.5) * 0.02; // æ—‹è½¬é€Ÿåº¦
                const speed = 1 + Math.random() * 2;
                const duration = 3000 + Math.random() * 2000;
                const startTime = Date.now();
                let rotation = 0;
                
                function animatePetal() {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // æ—‹è½¬è§’åº¦
                    rotation += rotationSpeed;
                    
                    // ç§»åŠ¨èŠ±ç“£ï¼ˆåŠ å…¥é‡åŠ›æ•ˆæœï¼‰
                    const gravityFactor = 1 + progress * 2;
                    const currentX = x + Math.cos(angle) * speed * progress * 40;
                    const currentY = y + Math.sin(angle) * speed * progress * 40 * gravityFactor;
                    
                    // æ·¡å‡º
                    const opacity = 1 - progress;
                    
                    petal.setAttribute('transform', `translate(${currentX - x}, ${currentY - y}) rotate(${rotation * 180 / Math.PI})`);
                    petal.setAttribute('opacity', opacity);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animatePetal);
                    } else {
                        if (petal.parentNode === particlesContainer) {
                            particlesContainer.removeChild(petal);
                        }
                    }
                }
                
                requestAnimationFrame(animatePetal);
            }
            
            // å±å¹•æ—‹è½¬æ—¶é‡æ–°å¸ƒå±€
            window.addEventListener('resize', function() {
                // æ¸…é™¤ç°æœ‰èŠ±æœµ
                const container = document.getElementById('heart-container');
                const petals = container.querySelectorAll('.petal');
                petals.forEach(petal => petal.remove());
                
                // é‡æ–°ç”Ÿæˆçˆ±å¿ƒ
                createFlowerHeart();
            });
        });
    </script>
</body></html>
